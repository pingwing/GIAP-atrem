var $currentEditLayerChoice=$("#layer_to_edit"),$drawGeometryType=$("#geom_type"),$interaction_type=$('[name="interaction_type"]'),layer_to_edit=document.getElementById("layer_to_edit");_.each(editableLayers,function(a){layer_to_edit.options[layer_to_edit.options.length]=new Option(a.name,a.layerName)});$("#customControlDelete").on("click",function(){deleteFeatures($currentEditLayerChoice.val())});
$("#customControlUndo").on("click",function(){clearTransactionFeatures();selectInteraction&&selectInteraction.getFeatures().clear();clearDragIconPointFeatures($currentEditLayerChoice.val());_.each(_.values(editableLayers),function(a){a.vectorSource.clear()})});$("#customControlSave").on("click",function(){transactWFS();clearTransactionFeatures();selectInteraction&&selectInteraction.getFeatures().clear();clearDragIconPointFeatures()});
$currentEditLayerChoice.on("change",function(){"draw"===$('[name="interaction_type"]:checked').val()?"rury_gazociagu"==this.value?($drawGeometryType.val("LineString"),addDrawInteraction($currentEditLayerChoice.val(),"MultiLineString")):"stacje_gazowe"==this.value?($drawGeometryType.val("Point"),addDrawInteraction($currentEditLayerChoice.val(),"MultiPoint")):addDrawInteraction($currentEditLayerChoice.val(),$drawGeometryType.val()):("rury_gazociagu"==this.value?$drawGeometryType.val("LineString"):"stacje_gazowe"==
this.value&&$drawGeometryType.val("Point"),addModifyInteraction($currentEditLayerChoice.val()))});$interaction_type.on("click",function(a){"draw"===this.value?($drawGeometryType.prop("disabled",!1),addDrawInteraction($currentEditLayerChoice.val(),$drawGeometryType.val())):($drawGeometryType.prop("disabled",!0),addModifyInteraction($currentEditLayerChoice.val()))});$drawGeometryType.on("change",function(a){addDrawInteraction($currentEditLayerChoice.val(),$drawGeometryType.val())});
addDrawInteraction($currentEditLayerChoice.val(),$drawGeometryType.val());
